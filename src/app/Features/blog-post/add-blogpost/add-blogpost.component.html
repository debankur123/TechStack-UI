<div class="container mt-3">
  <h1>CREATE BLOG POSTS</h1>
  <form #form="ngForm" class="row">
    <div class="col-md-6 mt-3">
      <label for="Title" class="form-label">Title</label>
      <input type="text" id="Title" name="Title" pInputText class="p-inputtext p-component smaller-input"
        style="width: 100%" [(ngModel)]="FormData.blogModule.title">
    </div>
    <div class="col-md-6 mt-3">
      <label for="URLHandle" class="form-label">URL Handle</label>
      <input type="text" id="URLHandle" name="URLHandle" pInputText class="p-inputtext p-component smaller-input"
        style="width: 100%" [(ngModel)]="FormData.blogModule.urlHandle">
    </div>
    <div class="col-md-6 mt-3">
      <label for="ShortDescription" class="form-label">Short Description</label>
      <input type="text" id="ShortDescription" name="ShortDescription" pInputText
        class="p-inputtext p-component smaller-input" style="width: 100%"
        [(ngModel)]="FormData.blogModule.shortDescription">
    </div>

    <div class="col-md-12 mt-3">
      <label for="content" class="form-label">Content</label>
      <div class="d-flex flex-row">
        <textarea id="content" name="content" [(ngModel)]="FormData.content[0].content"
          class="p-inputtext p-component smaller-input" style="height: 350px; max-height: 350px;"></textarea>
        <div class="col-md-6 p-2" style="max-height: 350px; overflow-y: scroll;">
          <markdown [data]="FormData.content[0].content"></markdown>
        </div>
      </div>
    </div>
    <br>
    <br>

    <div class="col-md-6 mt-3 justify-content-center">
      <label for="categories" class="form-label">Categories</label>
      <br>
      <ng-container *ngIf="categories$ | async as categories">
        <p-multiSelect [options]="categories" name="categories" id="categories" [(ngModel)]="selectedCategories"
          optionLabel="name" defaultLabel="Select Categories" [showHeader]="true"></p-multiSelect>
      </ng-container>
    </div>

    <div class="col-md-6 mt-3">
      <label for="FeaturedImageURL" class="form-label">Featured Image URL</label>
      <ng-container *ngIf="FormData.blogModule.featuredImageURL !== '' ">
        <div>
          <img [src]="FormData.blogModule.featuredImageURL" height="100" class="my-2">
        </div>
      </ng-container>

      <input type="text" id="FeaturedImageURL" name="FeaturedImageURL" pInputText
        class="p-inputtext p-component smaller-input" style="width: 100%"
        [(ngModel)]="FormData.blogModule.featuredImageURL">
    </div>
    <div class="col-md-6 mt-3">
      <label for="Author" class="form-label">Author</label>
      <input type="text" id="Author" name="Author" pInputText class="p-inputtext p-component smaller-input"
        style="width: 100%" [(ngModel)]="FormData.blogModule.author">
    </div>
    <div class="col-md-6 mt-3 justify-content-center">
      <label for="PublishedDate" class="form-label">Published Date</label><br />
      <p-calendar name="PublishedDate" id="PublishedDate" styleClass="custom-calendar" [showIcon]="true"
        [(ngModel)]="FormData.blogModule.publishedDate"></p-calendar>
    </div>
    <div class="col-md-12 mt-3">
      <label for="IsVisible" class="form-check-label">
        <p-checkbox [binary]="true" inputId="binary" [(ngModel)]="FormData.blogModule.isVisible" name="IsVisible"
          id="IsVisible"></p-checkbox> Is Visible?
      </label>
    </div>
    <div class="col-md-12 mt-3">
      <button icon="pi pi-check" type="submit" pButton class="primary-button" (click)="onSubmit()"
        style="background-color: green; color: white; border: none;">Save</button>
      <p-toast></p-toast>
      <button icon="pi pi-refresh" type="submit" pButton class="ms-2"
        style="background-color: gray; color:white; border: none;" (click)="onReset()">Reset</button>
      <button icon="pi pi-times" type="submit" pButton class="ms-2"
        style="background-color: red; color: white; border: none;" (click)="onCancel()">Cancel</button>
    </div>
  </form>
</div>
